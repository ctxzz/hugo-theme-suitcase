{{ define "main" }}
  <div class="list-page">
    <header class="list-header">
      <h1>{{ .Title }}</h1>
      {{ with .Description }}
      <p class="list-description">{{ . }}</p>
      {{ end }}
    </header>

    <div class="posts-list">
      {{ range .Pages }}
        {{ if or (not .Params.visibility) (eq .Params.visibility "public") }}
        <article class="post-item">
          <h2 class="post-item-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
          </h2>

          <div class="post-item-meta">
            {{ if not .Date.IsZero }}
            <time class="post-date" datetime="{{ .Date.Format "2006-01-02" }}">
              ðŸ•“ {{ .Date.Format "2006/01/02" }}
            </time>
            {{ end }}
            {{ with .Params.topics }}
            <span class="post-topics">
              ðŸ“‚
              {{ range $index, $topic := . }}
                {{ if $index }}, {{ end }}
                <a href="{{ "topics" | relURL }}/{{ $topic | urlize }}">{{ $topic }}</a>
              {{ end }}
            </span>
            {{ end }}
          </div>

          {{ with .Summary }}
          <div class="post-item-summary">
            {{ . }}
          </div>
          {{ end }}

          {{ with .Params.tags }}
          <div class="post-item-tags">
            {{ range . }}
            <a href="{{ "tags" | relURL }}/{{ . | urlize }}" class="tag">{{ . }}</a>
            {{ end }}
          </div>
          {{ end }}
        </article>
        {{ end }}
      {{ end }}
    </div>
  </div>
{{ end }}
